{"ast":null,"code":"import _toConsumableArray from \"C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport css from 'dom-helpers/css';\nimport { dataAttr } from './DataKey';\nimport getBodyScrollbarWidth from './getScrollbarWidth';\nexport var OPEN_DATA_ATTRIBUTE = dataAttr('modal-open');\n/**\r\n * Manages a stack of Modals as well as ensuring\r\n * body scrolling is is disabled and padding accounted for\r\n */\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        ownerDocument = _ref.ownerDocument,\n        _ref$handleContainerO = _ref.handleContainerOverflow,\n        handleContainerOverflow = _ref$handleContainerO === void 0 ? true : _ref$handleContainerO,\n        _ref$isRTL = _ref.isRTL,\n        isRTL = _ref$isRTL === void 0 ? false : _ref$isRTL;\n\n    _classCallCheck(this, ModalManager);\n\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.isRTL = isRTL;\n    this.modals = [];\n    this.ownerDocument = ownerDocument;\n  }\n\n  _createClass(ModalManager, [{\n    key: \"getScrollbarWidth\",\n    value: function getScrollbarWidth() {\n      return getBodyScrollbarWidth(this.ownerDocument);\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement() {\n      return (this.ownerDocument || document).body;\n    }\n  }, {\n    key: \"setModalAttributes\",\n    value: function setModalAttributes(_modal) {// For overriding\n    }\n  }, {\n    key: \"removeModalAttributes\",\n    value: function removeModalAttributes(_modal) {// For overriding\n    }\n  }, {\n    key: \"setContainerStyle\",\n    value: function setContainerStyle(containerState) {\n      var style = {\n        overflow: 'hidden'\n      }; // we are only interested in the actual `style` here\n      // because we will override it\n\n      var paddingProp = this.isRTL ? 'paddingLeft' : 'paddingRight';\n      var container = this.getElement();\n      containerState.style = _defineProperty({\n        overflow: container.style.overflow\n      }, paddingProp, container.style[paddingProp]);\n\n      if (containerState.scrollBarWidth) {\n        // use computed style, here to get the real padding\n        // to add our scrollbar width\n        style[paddingProp] = \"\".concat(parseInt(css(container, paddingProp) || '0', 10) + containerState.scrollBarWidth, \"px\");\n      }\n\n      container.setAttribute(OPEN_DATA_ATTRIBUTE, '');\n      css(container, style);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this = this;\n\n      _toConsumableArray(this.modals).forEach(function (m) {\n        return _this.remove(m);\n      });\n    }\n  }, {\n    key: \"removeContainerStyle\",\n    value: function removeContainerStyle(containerState) {\n      var container = this.getElement();\n      container.removeAttribute(OPEN_DATA_ATTRIBUTE);\n      Object.assign(container.style, containerState.style);\n    }\n  }, {\n    key: \"add\",\n    value: function add(modal) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx !== -1) {\n        return modalIdx;\n      }\n\n      modalIdx = this.modals.length;\n      this.modals.push(modal);\n      this.setModalAttributes(modal);\n\n      if (modalIdx !== 0) {\n        return modalIdx;\n      }\n\n      this.state = {\n        scrollBarWidth: this.getScrollbarWidth(),\n        style: {}\n      };\n\n      if (this.handleContainerOverflow) {\n        this.setContainerStyle(this.state);\n      }\n\n      return modalIdx;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx === -1) {\n        return;\n      }\n\n      this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\n      // clean up the container\n\n      if (!this.modals.length && this.handleContainerOverflow) {\n        this.removeContainerStyle(this.state);\n      }\n\n      this.removeModalAttributes(modal);\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n\n  return ModalManager;\n}();\n\nexport default ModalManager;","map":{"version":3,"sources":["C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/node_modules/@restart/ui/esm/ModalManager.js"],"names":["css","dataAttr","getBodyScrollbarWidth","OPEN_DATA_ATTRIBUTE","ModalManager","ownerDocument","handleContainerOverflow","isRTL","modals","document","body","_modal","containerState","style","overflow","paddingProp","container","getElement","scrollBarWidth","parseInt","setAttribute","forEach","m","remove","removeAttribute","Object","assign","modal","modalIdx","indexOf","length","push","setModalAttributes","state","getScrollbarWidth","setContainerStyle","splice","removeContainerStyle","removeModalAttributes"],"mappings":"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","sourcesContent":["import css from 'dom-helpers/css';\r\nimport { dataAttr } from './DataKey';\r\nimport getBodyScrollbarWidth from './getScrollbarWidth';\r\nexport const OPEN_DATA_ATTRIBUTE = dataAttr('modal-open');\r\n/**\r\n * Manages a stack of Modals as well as ensuring\r\n * body scrolling is is disabled and padding accounted for\r\n */\r\n\r\nclass ModalManager {\r\n  constructor({\r\n    ownerDocument,\r\n    handleContainerOverflow = true,\r\n    isRTL = false\r\n  } = {}) {\r\n    this.handleContainerOverflow = handleContainerOverflow;\r\n    this.isRTL = isRTL;\r\n    this.modals = [];\r\n    this.ownerDocument = ownerDocument;\r\n  }\r\n\r\n  getScrollbarWidth() {\r\n    return getBodyScrollbarWidth(this.ownerDocument);\r\n  }\r\n\r\n  getElement() {\r\n    return (this.ownerDocument || document).body;\r\n  }\r\n\r\n  setModalAttributes(_modal) {// For overriding\r\n  }\r\n\r\n  removeModalAttributes(_modal) {// For overriding\r\n  }\r\n\r\n  setContainerStyle(containerState) {\r\n    const style = {\r\n      overflow: 'hidden'\r\n    }; // we are only interested in the actual `style` here\r\n    // because we will override it\r\n\r\n    const paddingProp = this.isRTL ? 'paddingLeft' : 'paddingRight';\r\n    const container = this.getElement();\r\n    containerState.style = {\r\n      overflow: container.style.overflow,\r\n      [paddingProp]: container.style[paddingProp]\r\n    };\r\n\r\n    if (containerState.scrollBarWidth) {\r\n      // use computed style, here to get the real padding\r\n      // to add our scrollbar width\r\n      style[paddingProp] = `${parseInt(css(container, paddingProp) || '0', 10) + containerState.scrollBarWidth}px`;\r\n    }\r\n\r\n    container.setAttribute(OPEN_DATA_ATTRIBUTE, '');\r\n    css(container, style);\r\n  }\r\n\r\n  reset() {\r\n    [...this.modals].forEach(m => this.remove(m));\r\n  }\r\n\r\n  removeContainerStyle(containerState) {\r\n    const container = this.getElement();\r\n    container.removeAttribute(OPEN_DATA_ATTRIBUTE);\r\n    Object.assign(container.style, containerState.style);\r\n  }\r\n\r\n  add(modal) {\r\n    let modalIdx = this.modals.indexOf(modal);\r\n\r\n    if (modalIdx !== -1) {\r\n      return modalIdx;\r\n    }\r\n\r\n    modalIdx = this.modals.length;\r\n    this.modals.push(modal);\r\n    this.setModalAttributes(modal);\r\n\r\n    if (modalIdx !== 0) {\r\n      return modalIdx;\r\n    }\r\n\r\n    this.state = {\r\n      scrollBarWidth: this.getScrollbarWidth(),\r\n      style: {}\r\n    };\r\n\r\n    if (this.handleContainerOverflow) {\r\n      this.setContainerStyle(this.state);\r\n    }\r\n\r\n    return modalIdx;\r\n  }\r\n\r\n  remove(modal) {\r\n    const modalIdx = this.modals.indexOf(modal);\r\n\r\n    if (modalIdx === -1) {\r\n      return;\r\n    }\r\n\r\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\r\n    // clean up the container\r\n\r\n    if (!this.modals.length && this.handleContainerOverflow) {\r\n      this.removeContainerStyle(this.state);\r\n    }\r\n\r\n    this.removeModalAttributes(modal);\r\n  }\r\n\r\n  isTopModal(modal) {\r\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\r\n  }\r\n\r\n}\r\n\r\nexport default ModalManager;"]},"metadata":{},"sourceType":"module"}