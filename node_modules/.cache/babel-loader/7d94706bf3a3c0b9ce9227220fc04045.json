{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\bhupe\\\\Downloads\\\\Term 4\\\\COMP4537\\\\MilestoneFinal\\\\ISAproject\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import Navbar from\"react-bootstrap/Navbar\";import{useNavigate}from\"react-router-dom\";import Axios from\"axios\";import{Container,Offcanvas,Nav}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(props){var navigate=useNavigate();var logout=function logout(){window.localStorage.setItem(\"login\",false);window.localStorage.setItem(\"admin\",false);console.log(\"log out\");window.location.href=\"http://termproject.rshiratori.com:8000\";};var deleteUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var username,path;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Delete user\");_context.next=3;return window.localStorage.getItem(\"username\");case 3:username=_context.sent;path=\"http://termproject.rshiratori.com:8000/API/v1/\"+username;console.log(path);Axios.delete(path,{username:{username:username}}).then(function(res){console.log(res);if(res.status==200){console.log(\"deleted\");window.localStorage.setItem(\"login\",false);window.localStorage.setItem(\"admin\",false);window.location.href=\"http://termproject.rshiratori.com:8000\";}});case 7:case\"end\":return _context.stop();}}},_callee);}));return function deleteUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:false,children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"#\",children:\"Outivity\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"offcanvasNavbar\"}),/*#__PURE__*/_jsxs(Navbar.Offcanvas,{id:\"offcanvasNavbar\",\"aria-labelledby\":\"offcanvasNavbarLabel\",placement:\"end\",children:[/*#__PURE__*/_jsx(Offcanvas.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Offcanvas.Title,{id:\"offcanvasNavbarLabel\",children:window.localStorage.getItem(\"username\")})}),/*#__PURE__*/_jsx(Offcanvas.Body,{children:/*#__PURE__*/_jsxs(Nav,{className:\"justify-content-end flex-grow-1 pe-3\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/Weather\",children:\"Weather\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/Parks\",children:\"Parks\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/Buildings\",children:\"Heritage Buildings\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/Favourites\",children:\"Favourites\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/Food\",children:\"Food\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/MyInfo\",children:\"My Info\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/ContactUs\",children:\"Contact us\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:logout,children:\"Log Out\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:deleteUser,children:\"Delete Account\"})]})})]})]})});};export default NavBar;","map":{"version":3,"sources":["C:/Users/bhupe/Downloads/Term 4/COMP4537/MilestoneFinal/ISAproject/src/Components/navbar/NavBar.js"],"names":["React","Navbar","useNavigate","Axios","Container","Offcanvas","Nav","NavBar","props","navigate","logout","window","localStorage","setItem","console","log","location","href","deleteUser","getItem","username","path","delete","then","res","status"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport { Container, Offcanvas, Nav } from \"react-bootstrap\";\r\n\r\nconst NavBar = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  const logout = () => {\r\n    window.localStorage.setItem(\"login\", false);\r\n    window.localStorage.setItem(\"admin\", false);\r\n    console.log(\"log out\");\r\n    window.location.href = \"http://termproject.rshiratori.com:8000\";\r\n  };\r\n\r\n  const deleteUser = async () => {\r\n    console.log(\"Delete user\");\r\n    const username = await window.localStorage.getItem(\"username\");\r\n    const path = \"http://termproject.rshiratori.com:8000/API/v1/\" + username;\r\n    console.log(path);\r\n    Axios.delete(path, {\r\n      username: { username },\r\n    }).then((res) => {\r\n      console.log(res);\r\n      if (res.status == 200) {\r\n        console.log(\"deleted\");\r\n        window.localStorage.setItem(\"login\", false);\r\n        window.localStorage.setItem(\"admin\", false);\r\n        window.location.href = \"http://termproject.rshiratori.com:8000\";\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand={false}>\r\n      <Container fluid>\r\n        <Navbar.Brand href=\"#\">Outivity</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"offcanvasNavbar\" />\r\n        <Navbar.Offcanvas\r\n          id=\"offcanvasNavbar\"\r\n          aria-labelledby=\"offcanvasNavbarLabel\"\r\n          placement=\"end\"\r\n        >\r\n          <Offcanvas.Header closeButton>\r\n            <Offcanvas.Title id=\"offcanvasNavbarLabel\">\r\n              {window.localStorage.getItem(\"username\")}\r\n            </Offcanvas.Title>\r\n          </Offcanvas.Header>\r\n          <Offcanvas.Body>\r\n            <Nav className=\"justify-content-end flex-grow-1 pe-3\">\r\n              <Nav.Link href=\"/\">Home</Nav.Link>\r\n              <Nav.Link href=\"/Weather\">Weather</Nav.Link>\r\n              <Nav.Link href=\"/Parks\">Parks</Nav.Link>\r\n              <Nav.Link href=\"/Buildings\">Heritage Buildings</Nav.Link>\r\n              <Nav.Link href=\"/Favourites\">Favourites</Nav.Link>\r\n              <Nav.Link href=\"/Food\">Food</Nav.Link>\r\n              <Nav.Link href=\"/MyInfo\">My Info</Nav.Link>\r\n              <Nav.Link href=\"/ContactUs\">Contact us</Nav.Link>\r\n              <Nav.Link onClick={logout}>Log Out</Nav.Link>\r\n              <Nav.Link onClick={deleteUser}>Delete Account</Nav.Link>\r\n            </Nav>\r\n          </Offcanvas.Body>\r\n        </Navbar.Offcanvas>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n"]},"metadata":{},"sourceType":"module"}